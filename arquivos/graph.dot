digraph G {
  rankdir = "RL";
  node [shape = rect, fontname = "sans-serif"];
  "data.archive_file.trigger_airflow_sync_zip" [label="data.archive_file.trigger_airflow_sync_zip"];
  "google_bigquery_dataset.data_warehouse" [label="google_bigquery_dataset.data_warehouse"];
  "google_cloudfunctions_function.trigger_airflow_sync" [label="google_cloudfunctions_function.trigger_airflow_sync"];
  "google_compute_address.airbyte_ip" [label="google_compute_address.airbyte_ip"];
  "google_compute_address.airflow_ip" [label="google_compute_address.airflow_ip"];
  "google_compute_address.metabase_ip" [label="google_compute_address.metabase_ip"];
  "google_compute_address.mongodb_ip" [label="google_compute_address.mongodb_ip"];
  "google_compute_firewall.allow_airflow" [label="google_compute_firewall.allow_airflow"];
  "google_compute_firewall.allow_internal" [label="google_compute_firewall.allow_internal"];
  "google_compute_firewall.allow_mongodb_ingress" [label="google_compute_firewall.allow_mongodb_ingress"];
  "google_compute_firewall.allow_postgres_ingress" [label="google_compute_firewall.allow_postgres_ingress"];
  "google_compute_firewall.allow_ssh_http" [label="google_compute_firewall.allow_ssh_http"];
  "google_compute_instance.airbyte_instance" [label="google_compute_instance.airbyte_instance"];
  "google_compute_instance.airflow_instance" [label="google_compute_instance.airflow_instance"];
  "google_compute_instance.metabase_instance" [label="google_compute_instance.metabase_instance"];
  "google_compute_instance.mongodb_instance" [label="google_compute_instance.mongodb_instance"];
  "google_compute_network.vpc_network" [label="google_compute_network.vpc_network"];
  "google_compute_subnetwork.subnet" [label="google_compute_subnetwork.subnet"];
  "google_project_iam_member.airbyte_permissions" [label="google_project_iam_member.airbyte_permissions"];
  "google_project_iam_member.airbyte_pubsub_publisher" [label="google_project_iam_member.airbyte_pubsub_publisher"];
  "google_project_iam_member.airflow_pubsub_publisher" [label="google_project_iam_member.airflow_pubsub_publisher"];
  "google_project_iam_member.cloud_function_pubsub" [label="google_project_iam_member.cloud_function_pubsub"];
  "google_project_iam_member.cloud_function_secret_access" [label="google_project_iam_member.cloud_function_secret_access"];
  "google_project_iam_member.cloud_function_storage" [label="google_project_iam_member.cloud_function_storage"];
  "google_project_iam_member.metabase_pubsub_publisher" [label="google_project_iam_member.metabase_pubsub_publisher"];
  "google_project_iam_member.mongodb_pubsub_publisher" [label="google_project_iam_member.mongodb_pubsub_publisher"];
  "google_project_service.artifactregistry" [label="google_project_service.artifactregistry"];
  "google_project_service.cloudbuild" [label="google_project_service.cloudbuild"];
  "google_project_service.cloudfunctions" [label="google_project_service.cloudfunctions"];
  "google_project_service.pubsub" [label="google_project_service.pubsub"];
  "google_project_service.secretmanager" [label="google_project_service.secretmanager"];
  "google_pubsub_subscription.vm_status_subscription" [label="google_pubsub_subscription.vm_status_subscription"];
  "google_pubsub_topic.dag_updates" [label="google_pubsub_topic.dag_updates"];
  "google_pubsub_topic.vm_status_topic" [label="google_pubsub_topic.vm_status_topic"];
  "google_pubsub_topic_iam_member.allow_gcs_publisher" [label="google_pubsub_topic_iam_member.allow_gcs_publisher"];
  "google_secret_manager_secret.airflow_api_password" [label="google_secret_manager_secret.airflow_api_password"];
  "google_secret_manager_secret.airflow_api_url" [label="google_secret_manager_secret.airflow_api_url"];
  "google_secret_manager_secret.airflow_api_username" [label="google_secret_manager_secret.airflow_api_username"];
  "google_secret_manager_secret_version.airflow_api_password_version" [label="google_secret_manager_secret_version.airflow_api_password_version"];
  "google_secret_manager_secret_version.airflow_api_url_version" [label="google_secret_manager_secret_version.airflow_api_url_version"];
  "google_secret_manager_secret_version.airflow_api_username_version" [label="google_secret_manager_secret_version.airflow_api_username_version"];
  "google_service_account.airbyte_sa" [label="google_service_account.airbyte_sa"];
  "google_service_account.airflow_sa" [label="google_service_account.airflow_sa"];
  "google_service_account.cloud_function_sa" [label="google_service_account.cloud_function_sa"];
  "google_service_account.metabase_sa" [label="google_service_account.metabase_sa"];
  "google_service_account.mongodb_sa" [label="google_service_account.mongodb_sa"];
  "google_sql_database_instance.postgres_instance" [label="google_sql_database_instance.postgres_instance"];
  "google_sql_user.airflow_user" [label="google_sql_user.airflow_user"];
  "google_sql_user.metabase_user" [label="google_sql_user.metabase_user"];
  "google_storage_bucket.airflow_dags" [label="google_storage_bucket.airflow_dags"];
  "google_storage_bucket.data_lake" [label="google_storage_bucket.data_lake"];
  "google_storage_bucket.functions_bucket" [label="google_storage_bucket.functions_bucket"];
  "google_storage_bucket_iam_member.airflow_bucket_reader" [label="google_storage_bucket_iam_member.airflow_bucket_reader"];
  "google_storage_bucket_iam_member.mongodb_sa_access" [label="google_storage_bucket_iam_member.mongodb_sa_access"];
  "google_storage_bucket_object.function_zip" [label="google_storage_bucket_object.function_zip"];
  "google_storage_notification.dag_updates_notification" [label="google_storage_notification.dag_updates_notification"];
  "google_cloudfunctions_function.trigger_airflow_sync" -> "google_project_service.artifactregistry";
  "google_cloudfunctions_function.trigger_airflow_sync" -> "google_project_service.cloudfunctions";
  "google_cloudfunctions_function.trigger_airflow_sync" -> "google_project_service.pubsub";
  "google_cloudfunctions_function.trigger_airflow_sync" -> "google_project_service.secretmanager";
  "google_cloudfunctions_function.trigger_airflow_sync" -> "google_pubsub_topic_iam_member.allow_gcs_publisher";
  "google_cloudfunctions_function.trigger_airflow_sync" -> "google_secret_manager_secret_version.airflow_api_password_version";
  "google_cloudfunctions_function.trigger_airflow_sync" -> "google_secret_manager_secret_version.airflow_api_url_version";
  "google_cloudfunctions_function.trigger_airflow_sync" -> "google_secret_manager_secret_version.airflow_api_username_version";
  "google_cloudfunctions_function.trigger_airflow_sync" -> "google_service_account.cloud_function_sa";
  "google_cloudfunctions_function.trigger_airflow_sync" -> "google_storage_bucket_object.function_zip";
  "google_compute_firewall.allow_airflow" -> "google_compute_network.vpc_network";
  "google_compute_firewall.allow_internal" -> "google_compute_network.vpc_network";
  "google_compute_firewall.allow_mongodb_ingress" -> "google_compute_network.vpc_network";
  "google_compute_firewall.allow_postgres_ingress" -> "google_compute_address.airbyte_ip";
  "google_compute_firewall.allow_postgres_ingress" -> "google_compute_address.airflow_ip";
  "google_compute_firewall.allow_postgres_ingress" -> "google_compute_address.metabase_ip";
  "google_compute_firewall.allow_postgres_ingress" -> "google_compute_network.vpc_network";
  "google_compute_firewall.allow_ssh_http" -> "google_compute_network.vpc_network";
  "google_compute_instance.airbyte_instance" -> "google_compute_address.airflow_ip";
  "google_compute_instance.airbyte_instance" -> "google_compute_subnetwork.subnet";
  "google_compute_instance.airbyte_instance" -> "google_service_account.airbyte_sa";
  "google_compute_instance.airflow_instance" -> "google_compute_address.airbyte_ip";
  "google_compute_instance.airflow_instance" -> "google_compute_subnetwork.subnet";
  "google_compute_instance.airflow_instance" -> "google_service_account.airflow_sa";
  "google_compute_instance.metabase_instance" -> "google_compute_address.metabase_ip";
  "google_compute_instance.metabase_instance" -> "google_compute_subnetwork.subnet";
  "google_compute_instance.metabase_instance" -> "google_service_account.metabase_sa";
  "google_compute_instance.mongodb_instance" -> "google_compute_address.mongodb_ip";
  "google_compute_instance.mongodb_instance" -> "google_compute_subnetwork.subnet";
  "google_compute_instance.mongodb_instance" -> "google_service_account.mongodb_sa";
  "google_compute_subnetwork.subnet" -> "google_compute_network.vpc_network";
  "google_project_iam_member.airbyte_permissions" -> "google_service_account.airbyte_sa";
  "google_project_iam_member.airbyte_pubsub_publisher" -> "google_service_account.airbyte_sa";
  "google_project_iam_member.airflow_pubsub_publisher" -> "google_service_account.airflow_sa";
  "google_project_iam_member.cloud_function_pubsub" -> "google_service_account.cloud_function_sa";
  "google_project_iam_member.cloud_function_secret_access" -> "google_service_account.cloud_function_sa";
  "google_project_iam_member.cloud_function_storage" -> "google_service_account.cloud_function_sa";
  "google_project_iam_member.metabase_pubsub_publisher" -> "google_service_account.metabase_sa";
  "google_project_iam_member.mongodb_pubsub_publisher" -> "google_service_account.mongodb_sa";
  "google_pubsub_subscription.vm_status_subscription" -> "google_pubsub_topic.vm_status_topic";
  "google_pubsub_topic_iam_member.allow_gcs_publisher" -> "google_pubsub_topic.dag_updates";
  "google_secret_manager_secret_version.airflow_api_password_version" -> "google_secret_manager_secret.airflow_api_password";
  "google_secret_manager_secret_version.airflow_api_url_version" -> "google_compute_address.airflow_ip";
  "google_secret_manager_secret_version.airflow_api_url_version" -> "google_secret_manager_secret.airflow_api_url";
  "google_secret_manager_secret_version.airflow_api_username_version" -> "google_secret_manager_secret.airflow_api_username";
  "google_sql_database_instance.postgres_instance" -> "google_compute_address.airbyte_ip";
  "google_sql_database_instance.postgres_instance" -> "google_compute_address.airflow_ip";
  "google_sql_database_instance.postgres_instance" -> "google_compute_address.metabase_ip";
  "google_sql_user.airflow_user" -> "google_sql_database_instance.postgres_instance";
  "google_sql_user.metabase_user" -> "google_sql_database_instance.postgres_instance";
  "google_storage_bucket_iam_member.airflow_bucket_reader" -> "google_service_account.airflow_sa";
  "google_storage_bucket_iam_member.airflow_bucket_reader" -> "google_storage_bucket.airflow_dags";
  "google_storage_bucket_iam_member.mongodb_sa_access" -> "google_service_account.mongodb_sa";
  "google_storage_bucket_object.function_zip" -> "data.archive_file.trigger_airflow_sync_zip";
  "google_storage_bucket_object.function_zip" -> "google_storage_bucket.functions_bucket";
  "google_storage_notification.dag_updates_notification" -> "google_pubsub_topic.dag_updates";
  "google_storage_notification.dag_updates_notification" -> "google_storage_bucket.airflow_dags";
}
